# WordPress設定手順書

## 固定ページ「サービス」の作成

### 手順

1. **WordPressにログイン**
   - 管理画面にアクセス

2. **固定ページを作成**
   - 左メニュー → 「固定ページ」→「新規追加」をクリック

3. **ページ情報を入力**
   - **タイトル**: `サービス`
   - **スラッグ**: `services`（自動で設定されるはずですが、確認してください）
   - **本文**: 空欄のままでOK（テンプレートが表示を制御します）

4. **テンプレートを選択**
   - 右サイドバーの「ページ属性」→「テンプレート」
   - **「サービスページ（統合版）」**を選択

5. **パーマリンクを確認**
   - URLが`https://www.elmolinitos.com/services/`になっていることを確認
   - もし異なる場合は、スラッグを`services`に変更

6. **公開**
   - 「公開」ボタンをクリック

### 重要な注意事項

#### パーマリンク設定の更新

固定ページを作成した後、**必ずパーマリンク設定を更新**してください：

1. 左メニュー → 「設定」→「パーマリンク設定」
2. 何も変更せずに「変更を保存」ボタンをクリック
3. これにより、WordPressのリライトルールが更新されます

**この手順を忘れると、ページが404エラーになる可能性があります！**

### 既存の`/services/`ページとの競合について

現在、`/services/`は`tax_service`カスタム投稿タイプのアーカイブページとして機能しています。

固定ページ「サービス」を作成すると、以下のようになります：

- **固定ページが優先**されます
- `tax_service`のアーカイブは`/tax_service/`でアクセス可能になります
- または、`functions.php`で`tax_service`のアーカイブスラッグを変更する必要があります

### `tax_service`のアーカイブスラッグを変更（推奨）

固定ページとの競合を避けるため、`tax_service`のアーカイブスラッグを変更することを推奨します：

1. `functions.php`を編集
2. `register_post_type('tax_service', ...)`の部分を探す
3. `'rewrite' => ['slug' => 'services']`を`'rewrite' => ['slug' => 'tax-services']`に変更
4. パーマリンク設定を更新

これにより：
- 固定ページ: `/services/`（税理士サービス + 税理士事務所の統合ページ）
- 税理士サービスアーカイブ: `/tax-services/`（税理士サービスのみ）

## 確認事項

### ページが正しく表示されるか確認

1. `/services/`にアクセス
2. 税理士サービスと税理士事務所が表示されることを確認
3. 検索フィルターが動作することを確認
4. ページネーションをクリックして、2ページ目が表示されることを確認

### ページネーションの動作確認

1. `/services/?paged=2`にアクセス
2. 2ページ目の税理士事務所が表示されることを確認
3. 検索条件を指定して、ページネーションが動作することを確認

## トラブルシューティング

### 404エラーが表示される

**原因**: パーマリンク設定が更新されていない

**解決策**:
1. 「設定」→「パーマリンク設定」
2. 「変更を保存」をクリック

### テンプレートが選択できない

**原因**: テーマファイルがアップロードされていない

**解決策**:
1. `page-services.php`がテーマディレクトリにあることを確認
2. FTP/SFTPでアップロード
3. または、GitHub Actionsのデプロイが完了していることを確認

### ページネーションが動作しない

**原因**: 固定ページではなく、アーカイブページとして表示されている

**解決策**:
1. 固定ページ「サービス」が正しく作成されているか確認
2. テンプレートが「サービスページ（統合版）」に設定されているか確認
3. パーマリンク設定を更新

## 作成日

2026-01-20
